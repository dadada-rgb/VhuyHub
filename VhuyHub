local rs = game:GetService("RunService")
local uis = game:GetService("UserInputService")
local lp = game.Players.LocalPlayer

-- Danh s√°ch animation (URL ƒë·∫ßy ƒë·ªß)
local animations = {
	C = "http://www.roblox.com/asset/?id=15609995579",
	N = "http://www.roblox.com/asset/?id=14352343065",
}

local currentTrack = nil
local currentKey = nil
local renderConnection = nil
local inputConnection = nil

local function setup(char)
	local hum = char:WaitForChild("Humanoid", 5)
	if not hum then return end

	local animator = hum:FindFirstChildOfClass("Animator") or Instance.new("Animator", hum)

	-- Ng·∫Øt k·∫øt n·ªëi c≈©
	if renderConnection then renderConnection:Disconnect() end
	if inputConnection then inputConnection:Disconnect() end

	-- D·ª´ng animation n·∫øu di chuy·ªÉn
	renderConnection = rs.RenderStepped:Connect(function()
		if currentTrack and hum.MoveDirection.Magnitude > 0 then
			currentTrack:Stop()
			currentTrack = nil
			currentKey = nil
		end
	end)

	-- Nh·∫•n ph√≠m ƒë·ªÉ ph√°t l·∫°i animation
	inputConnection = uis.InputBegan:Connect(function(input)
		local key = input.KeyCode.Name
		local animId = animations[key]
		if animId and hum.MoveDirection.Magnitude == 0 then
			-- D·ª´ng animation c≈© n·∫øu ƒëang ch·∫°y
			if currentTrack then
				currentTrack:Stop()
				currentTrack = nil
				currentKey = nil
			end
			-- Ph√°t animation m·ªõi
			local anim = Instance.new("Animation")
			anim.AnimationId = animId
			local track = animator:LoadAnimation(anim)
			track:Play()
			currentTrack = track
			currentKey = key
		end
	end)
end

-- N·∫øu ƒë√£ c√≥ character
if lp.Character then
	setup(lp.Character)
end

-- Khi respawn
lp.CharacterAdded:Connect(function(char)
	currentTrack = nil
	currentKey = nil
	task.wait(0.2)
	setup(char)
end)

-- Hi·ªán th√¥ng b√°o
local function sendNotification(title, text)
	game:GetService("StarterGui"):SetCore("SendNotification", {
		Title = title,
		Text = text,
		Duration = 3
	})
end

local TweenService = game:GetService("TweenService")

-- T·∫°o hi·ªáu ·ª©ng m·ªù n·ªÅn
local blur = Instance.new("BlurEffect")
blur.Size = 20
blur.Parent = game.Lighting

-- T·∫°o GUI
local gui = Instance.new("ScreenGui")
gui.Name = "VhuyIntroGui"
gui.IgnoreGuiInset = true
gui.ResetOnSpawn = false
gui.DisplayOrder = 99999
gui.Parent = game:GetService("CoreGui")

-- N·ªÅn ƒëen m·ªù
local bg = Instance.new("Frame")
bg.Size = UDim2.new(1, 0, 1, 0)
bg.BackgroundColor3 = Color3.new(0, 0, 0)
bg.BackgroundTransparency = 1 -- b·∫Øt ƒë·∫ßu ·∫©n
bg.Parent = gui

-- D√≤ng ch·ªØ ch√≠nh
local title = Instance.new("TextLabel")
title.AnchorPoint = Vector2.new(0.5, 0.5)
title.Position = UDim2.new(0.5, 0, 0.5, 0)
title.Size = UDim2.new(0, 300, 0, 100)
title.Text = "DhuyxDtuyen"
title.Font = Enum.Font.GothamBlack
title.TextColor3 = Color3.fromRGB(255, 179, 186)
title.TextScaled = true
title.TextTransparency = 1 -- b·∫Øt ƒë·∫ßu m·ªù ho√†n to√†n
title.BackgroundTransparency = 1
title.Parent = gui

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 12)
corner.Parent = title

-- Hi·ªáu ·ª©ng fade in
TweenService:Create(title, TweenInfo.new(1), {TextTransparency = 0}):Play()
TweenService:Create(bg, TweenInfo.new(1), {BackgroundTransparency = 0.5}):Play()

-- Gi·ªØ 3 gi√¢y r·ªìi fade out
task.delay(4, function()
	TweenService:Create(title, TweenInfo.new(1), {TextTransparency = 1}):Play()
	TweenService:Create(bg, TweenInfo.new(1), {BackgroundTransparency = 1}):Play()

	task.delay(1, function()
		gui:Destroy()
		blur:Destroy()
	end)
end)

-- Button GUI ƒë·ªÉ ph√°t animation C
local player = game.Players.LocalPlayer
local mouse = player:GetMouse()

-- T·∫°o GUI cho n√∫t
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "CButtonGui"
screenGui.ResetOnSpawn = false
screenGui.IgnoreGuiInset = true
screenGui.Parent = game.CoreGui

-- N√∫t ch√≠nh
local button = Instance.new("TextButton")
button.Name = "PlayCButton"
button.Size = UDim2.new(0, 40, 0, 40)
button.Position = UDim2.new(0, 10, 0, 300) -- v·ªã tr√≠ ban ƒë·∫ßu
button.BackgroundColor3 = Color3.fromRGB(255, 179, 186)
button.Text = "C"
button.TextColor3 = Color3.new(0, 0, 0)
button.TextScaled = true
button.AutoButtonColor = true
button.Parent = screenGui

-- Bo g√≥c
local uiCorner = Instance.new("UICorner")
uiCorner.CornerRadius = UDim.new(1, 0)
uiCorner.Parent = button

local dragging = false
local dragStart, startPos

local function update(input)
	local delta = input.Position - dragStart
	button.Position = UDim2.new(
		startPos.X.Scale, startPos.X.Offset + delta.X,
		startPos.Y.Scale, startPos.Y.Offset + delta.Y
	)
end

button.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
		dragging = true
		dragStart = input.Position
		startPos = button.Position

		input.Changed:Connect(function()
			if input.UserInputState == Enum.UserInputState.End then
				dragging = false
			end
		end)
	end
end)

game:GetService("UserInputService").InputChanged:Connect(function(input)
	if dragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
		update(input)
	end
end)

-- Khi b·∫•m n√∫t th√¨ ph√°t animation "C"
button.MouseButton1Click:Connect(function()
	local char = player.Character
	if not char then return end
	local hum = char:FindFirstChildOfClass("Humanoid")
	if not hum then return end
	if hum.MoveDirection.Magnitude > 0 then return end

	local animator = hum:FindFirstChildOfClass("Animator") or Instance.new("Animator", hum)
	local anim = Instance.new("Animation")
	anim.AnimationId = "http://www.roblox.com/asset/?id=15609995579" -- Animation C
	local track = animator:LoadAnimation(anim)

	-- D·ª´ng animation hi·ªán t·∫°i n·∫øu c√≥
	if currentTrack then
		currentTrack:Stop()
	end

	track:Play()
	currentTrack = track
	currentKey = "C"
end)

loadstring(game:HttpGet("https://raw.githubusercontent.com/dadada-rgb/VhuyHub/refs/heads/main/emote"))()

local ScreenGui = Instance.new("ScreenGui")
local Frame = Instance.new("Frame")
local ToggleButton = Instance.new("TextButton")
local TextLabel = Instance.new("TextLabel")
local HideButton = Instance.new("TextButton")
local PowerLabel = Instance.new("TextLabel")
local PowerSlider = Instance.new("TextButton")
local PowerBar = Instance.new("Frame")
local UICorner = Instance.new("UICorner")
ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
ScreenGui.ResetOnSpawn = false

Frame.Parent = ScreenGui
Frame.BackgroundColor3 = Color3.fromRGB(255, 182, 193) -- H·ªìng pastel
Frame.Position = UDim2.new(0.35, 0, 0.4, 0)
Frame.Size = UDim2.new(0, 220, 0, 150)
Frame.Active = true
Frame.Draggable = true
UICorner.Parent = Frame
UICorner.CornerRadius = UDim.new(0, 10)

TextLabel.Parent = Frame
TextLabel.BackgroundTransparency = 1
TextLabel.Size = UDim2.new(1, 0, 0.2, 0)
TextLabel.Font = Enum.Font.GothamBold
TextLabel.Text = "DhuyXDtuyen"
TextLabel.TextColor3 = Color3.fromRGB(255, 255, 255) -- Tr·∫Øng
TextLabel.TextSize = 22

ToggleButton.Parent = Frame
ToggleButton.Position = UDim2.new(0.1, 0, 0.3, 0)
ToggleButton.Size = UDim2.new(0.8, 0, 0.2, 0)
ToggleButton.Font = Enum.Font.GothamBold
ToggleButton.Text = "OFF"
ToggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ToggleButton.BackgroundColor3 = Color3.fromRGB(255, 105, 180) -- H·ªìng ƒë·∫≠m pastel
ToggleButton.TextSize = 24
UICorner:Clone().Parent = ToggleButton
UICorner:Clone().CornerRadius = UDim.new(0, 8)

PowerLabel.Parent = Frame
PowerLabel.BackgroundTransparency = 1
PowerLabel.Position = UDim2.new(0.1, 0, 0.55, 0)
PowerLabel.Size = UDim2.new(0.8, 0, 0.15, 0)
PowerLabel.Font = Enum.Font.Gotham
PowerLabel.Text = "Fling Power: 10000"
PowerLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
PowerLabel.TextSize = 18

PowerBar.Parent = Frame
PowerBar.Position = UDim2.new(0.1, 0, 0.7, 0)
PowerBar.Size = UDim2.new(0.8, 0, 0.1, 0)
PowerBar.BackgroundColor3 = Color3.fromRGB(245, 245, 220) -- Tr·∫Øng be
UICorner:Clone().Parent = PowerBar
UICorner:Clone().CornerRadius = UDim.new(0, 6)
PowerSlider.Parent = PowerBar
PowerSlider.Size = UDim2.new(0.1, 0, 1, 0)
PowerSlider.BackgroundColor3 = Color3.fromRGB(255, 182, 193) -- H·ªìng pastel
PowerSlider.Text = "k√©o"
UICorner:Clone().Parent = PowerSlider
UICorner:Clone().CornerRadius = UDim.new(0, 6)
HideButton.Parent = ScreenGui
HideButton.Position = UDim2.new(0.05, 0, 0.9, 0)
HideButton.Size = UDim2.new(0, 50, 0, 30)
HideButton.Font = Enum.Font.GothamBold
HideButton.Text = "üëÅ"
HideButton.TextColor3 = Color3.fromRGB(255, 255, 255)
HideButton.BackgroundColor3 = Color3.fromRGB(255, 182, 193) -- H·ªìng pastel
UICorner:Clone().Parent = HideButton
UICorner:Clone().CornerRadius = UDim.new(0, 8)
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local RunService = game:GetService("RunService")
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")

local hiddenfling = false
local flingPower = 10000
local lp = Players.LocalPlayer
local dragging = false

if not ReplicatedStorage:FindFirstChild("juisdfj0i32i0eidsuf0iok") then
	local detection = Instance.new("Decal")
	detection.Name = "juisdfj0i32i0eidsuf0iok"
	detection.Parent = ReplicatedStorage
end

local function fling()
	local hrp, c, vel, movel = nil, nil, nil, 0.1
	
	while true do
		RunService.Heartbeat:Wait()
		if hiddenfling then
			while hiddenfling and not (c and c.Parent and hrp and hrp.Parent) do
				RunService.Heartbeat:Wait()
				c = lp.Character
				hrp = c and c:FindFirstChild("HumanoidRootPart")
			end

			if hiddenfling then
				vel = hrp.Velocity
				hrp.Velocity = vel * flingPower + Vector3.new(0, flingPower, 0)
				RunService.RenderStepped:Wait()
				if c and c.Parent and hrp and hrp.Parent then
					hrp.Velocity = vel
				end
				RunService.Stepped:Wait()
				if c and c.Parent and hrp and hrp.Parent then
					hrp.Velocity = vel + Vector3.new(0, movel, 0)
					movel = movel * -1
				end
			end
		end
	end
end

ToggleButton.MouseButton1Click:Connect(function()
	hiddenfling = not hiddenfling
	if hiddenfling then
		ToggleButton.Text = "ON"
		ToggleButton.BackgroundColor3 = Color3.fromRGB(144, 238, 144) -- Xanh pastel
	else
		ToggleButton.Text = "OFF"
		ToggleButton.BackgroundColor3 = Color3.fromRGB(255, 105, 180) -- H·ªìng ƒë·∫≠m pastel
	end
end)

HideButton.MouseButton1Click:Connect(function()
	Frame.Visible = not Frame.Visible
	if Frame.Visible then
		HideButton.Text = "üëÅ"
	else
		HideButton.Text = "üëÄ"
	end
end)

PowerSlider.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
		dragging = true
	end
end)

PowerSlider.InputEnded:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
		dragging = false
	end
end)

UserInputService.InputChanged:Connect(function(input)
	if dragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
		local mousePos = input.Position.X
		local barPos = PowerBar.AbsolutePosition.X
		local barSize = PowerBar.AbsoluteSize.X
		local newPos = math.clamp((mousePos - barPos) / barSize, 0, 1)
		
		PowerSlider.Position = UDim2.new(newPos, 0, 0, 0)
		flingPower = math.floor(newPos * 50000) + 5000
		PowerLabel.Text = "Fling Power: " .. flingPower
	end
end)

fling()

-- Load script theo PlaceId
local placeId = game.PlaceId
local scriptUrls = {
	[9872472334] = "https://raw.githubusercontent.com/dadada-rgb/VhuyHub/refs/heads/main/evade",
	[10662542523] = "https://raw.githubusercontent.com/dadada-rgb/VhuyHub/refs/heads/main/evade",
	[10324347967] = "https://raw.githubusercontent.com/dadada-rgb/VhuyHub/refs/heads/main/evade",
	[10324346056] = "https://raw.githubusercontent.com/dadada-rgb/VhuyHub/refs/heads/main/evade",
	[10530697691] = "https://raw.githubusercontent.com/dadada-rgb/VhuyHub/refs/heads/main/evade",
	[10808838353] = "https://raw.githubusercontent.com/dadada-rgb/VhuyHub/refs/heads/main/evade",
	[142823291] = "https://raw.githubusercontent.com/dadada-rgb/VhuyHub/refs/heads/main/mm2",
	[13772394625] = "https://raw.githubusercontent.com/dadada-rgb/VhuyHub/refs/heads/main/Bladeball",
        [6839171747] = "https://raw.githubusercontent.com/DarkDoorsKing/Project/main/Doors.lua",
}

local url = scriptUrls[placeId] or "https://raw.githubusercontent.com/dadada-rgb/VhuyHub/refs/heads/main/hood"
loadstring(game:HttpGet(url))()
sendNotification("Script Loaded", "ƒê√£ load DhuyXDtuyen")

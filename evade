local function genRandStr(len)
    local chars = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"
    local res = ""
    for i = 1, len do
        res = res .. string.sub(chars, math.random(1, #chars), math.random(1, #chars))
    end
    return res
end

local x7qZ9m = game:GetService(genRandStr(7))
local y3kP8r = game:GetService(genRandStr(8))
local w2nT6v = game:GetService(genRandStr(9))
local k4mY5t = game:GetService(genRandStr(10))
local p8vJ2x = game:GetService(genRandStr(11))
local t5xY9q = x7qZ9m.LocalPlayer
local r6nK7v = t5xY9q.Character or t5xY9q.CharacterAdded:Wait()

getgenv()[genRandStr(6)] = false
getgenv()[genRandStr(7)] = false

local function sendMsg(txt)
    pcall(function()
        w2nT6v:SetCore(genRandStr(12), {
            Title = genRandStr(5),
            Text = txt,
            Duration = 2
        })
    end)
end

t5xY9q.Idled:Connect(function()
    y3kP8r:CaptureController()
    y3kP8r:ClickButton2(Vector2.new())
end)

local function hideGui(obj)
    if obj:IsA("ScreenGui") and obj ~= nil and obj.Name == genRandStr(7) then
        obj.Name = "Core" .. math.random(1000, 9999)
    end
end

task.spawn(function()
    while task.wait(2) do
        for _, v in ipairs(t5xY9q:WaitForChild(genRandStr(10)):GetChildren()) do
            hideGui(v)
        end
    end
end)

p8vJ2x.Stepped:Connect(function()
    local char = t5xY9q.Character
    if char and char:GetAttribute(genRandStr(6)) then
        k4mY5t.Events.Player[genRandStr(12)]:FireServer(true)
    end
end)

k4mY5t.InputBegan:Connect(function(input, proc)
    if proc then return end
    if input.KeyCode == Enum.KeyCode.B then
        getgenv()[genRandStr(6)] = not getgenv()[genRandStr(6)]
        sendMsg("Farm: " .. (getgenv()[genRandStr(6)] and "On" or "Off"))
    elseif input.KeyCode == Enum.KeyCode.J then
        getgenv()[genRandStr(7)] = not getgenv()[genRandStr(7)]
        sendMsg("Jump: " .. (getgenv()[genRandStr(7)] and "On" or "Off"))
    end
end)

k4mY5t.InputBegan:Connect(function(input, proc)
    if proc or not getgenv()[genRandStr(7)] then return end
    if input.KeyCode == Enum.KeyCode.Space then
        local char = t5xY9q.Character
        if char then
            local hum = char:FindFirstChild(genRandStr(8))
            if hum then
                hum:ChangeState(Enum.HumanoidStateType.Jumping)
            end
        end
    end
end)

task.spawn(function()
    local gameObj = workspace:FindFirstChild(genRandStr(4))
    local effects = gameObj and gameObj:FindFirstChild(genRandStr(7))
    local items = effects and effects:FindFirstChild(genRandStr(6))
    if not items then return end

    while true do
        if getgenv()[genRandStr(6)] then
            local char = t5xY9q.Character or t5xY9q.CharacterAdded:Wait()
            local root = char:FindFirstChild(genRandStr(12))
            if root then
                for _, v in ipairs(items:GetChildren()) do
                    local target = v:FindFirstChild(genRandStr(12))
                    if target then
                        root.CFrame = target.CFrame
                        task.wait(0.1)
                    end
                end
            end
        end
        task.wait(1)
    end
end)

local gui = Instance.new("ScreenGui")
local frame = Instance.new("Frame")
local corner1 = Instance.new("UICorner")
local btn1 = Instance.new("TextButton")
local corner2 = Instance.new("UICorner")
local btn2 = Instance.new("TextButton")
local corner3 = Instance.new("UICorner")

gui.Name = genRandStr(7)
gui.ResetOnSpawn = false
gui.Parent = t5xY9q:WaitForChild(genRandStr(10))

frame.Parent = gui
frame.Position = UDim2.new(0.161, 0, 0.21, 0)
frame.Size = UDim2.new(0, 166, 0, 110)
frame.BackgroundColor3 = Color3.fromRGB(255, 179, 186)
frame.Active = true
frame.Draggable = true

corner1.CornerRadius = UDim.new(0, 8)
corner1.Parent = frame

btn1.Parent = frame
btn1.Position = UDim2.new(0.036, 0, 0.1, 0)
btn1.Size = UDim2.new(0, 150, 0, 40)
btn1.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
btn1.Text = genRandStr(8)
btn1.Font = Enum.Font.SourceSansBold
btn1.TextColor3 = Color3.fromRGB(0, 0, 0)
btn1.TextSize = 14

corner2.CornerRadius = UDim.new(0, 8)
corner2.Parent = btn1

btn2.Parent = frame
btn2.Position = UDim2.new(0.036, 0, 0.5, 0)
btn2.Size = UDim2.new(0, 150, 0, 40)
btn2.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
btn2.Text = genRandStr(8)
btn2.Font = Enum.Font.SourceSansBold
btn2.TextColor3 = Color3.fromRGB(0, 0, 0)
btn2.TextSize = 14

corner3.CornerRadius = UDim.new(0, 8)
corner3.Parent = btn2

btn1.MouseButton1Click:Connect(function()
    getgenv()[genRandStr(6)] = not getgenv()[genRandStr(6)]
    sendMsg("Farm: " .. (getgenv()[genRandStr(6)] and "On" or "Off"))
end)

btn2.MouseButton1Click:Connect(function()
    getgenv()[genRandStr(7)] = not getgenv()[genRandStr(7)]
    sendMsg("Jump: " .. (getgenv()[genRandStr(7)] and "On" or "Off"))
end)
